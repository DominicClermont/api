prefix crmdig: <http://www.ics.forth.gr/isl/CRMext/CRMdig.rdfs/>  
prefix crmsci: <http://www.ics.forth.gr/isl/CRMsci/>

SELECT DISTINCT ?id ?obj  ?place ?timespan ?description 
WHERE {
  GRAPH <http://data.silknow.org/mfa> {

     ?dig a crmdig:D1_Digital_Object . }
     ?dig  ecrm:P129_is_about ?obs .


 OPTIONAL {
     ?obs a crmsci:S4_Observation .


     ?obs ecrm:P3_has_note ?description ;
          ecrm:P2_has_type "description" . }


     ?dig ecrm:P129_is_about ?obj .
     ?dig ecrm:P129_is_about ?prd .
     OPTIONAL { ?prd  ecrm:P4_has_time-span / ecrm:P78_is_identified_by ?timespan . }

OPTIONAL {
 { ?prd ecrm:P8_took_place_on_or_within ?l
     { SELECT ?l SAMPLE(?loc) as ?place
          WHERE { ?l geonames:countryCode ?loc}
       } . FILTER(isIRI(?l)) }
 }

     ?obj  dc:identifier ?id .
     

}

